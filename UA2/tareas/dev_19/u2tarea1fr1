package com.mycompany.u2tarea1fr1;

class Contador
{
    private int cont = 0;  // Atributo Contador
    Contador (int cont) { 
        this.cont = cont; 
    }

    public void incrementa() {
        cont++; //Se incrementa el valor una vez
    }

    public int valor() {
        return cont; 
    }
} 

class HiloSumador extends Thread //Creacion de la clase Hilo
{
    private Contador contador;

    public HiloSumador(String nombre, Contador cont) {
        setName(nombre);
        contador = cont;
    }

    public void run() {
        for(int j=0; j<1000;j++) //Incremento a mil 
        {
            contador.incrementa();
        }
        System.out.println("Hilo: " + contador.valor()); //Se muestra el resultado del hilo
    }
}

public class Ua2tarea1fr1 {

    public static void main(String[] args) {
        // Codigo del main
        Contador conta = new Contador(0);
        //Creamos todos los hilos
        HiloSumador hilo1 = new HiloSumador("Hilo 1", conta);
        HiloSumador hilo2 = new HiloSumador("Hilo 2", conta);
        HiloSumador hilo3 = new HiloSumador("Hilo 3", conta);
        HiloSumador hilo4 = new HiloSumador("Hilo 4", conta);
        HiloSumador hilo5 = new HiloSumador("Hilo 5", conta);
        
        //Iniciamos hilos
        hilo1.start();
        hilo2.start();
        hilo3.start();
        hilo4.start();
        hilo5.start();
        
        //Try catch para el error
        try {
            hilo1.join();
            hilo2.join();
            hilo3.join();
            hilo4.join();
            hilo5.join();
        }
        catch (InterruptedException e)
        {
           
            System.out.println("Error, pruebe de nuevo");
        }
        
        //Resultado final
        System.out.println("Valor Final del Contador: " + conta.valor());
    } 
}
